
header:
    title: "cyberd"
    section: 5
    source: "HeylelOS"

sections:
    name: "cyberd init daemons configuration files"
    description: |
        cyberd daemons configurations are separated into sections.
        Three sections are available: \fBgeneral\fR, \fBenvironment\fR and \fBstart\fR.
        All file starts in the \fBgeneral\fR section by default, you can specify a section by writing \fB@<section name>\fR in a line.
        All following lines will concern this section until another section is specified.
        Each line which is not a section specification is either a scalar value, or an associative value.
        Scalar values consist of any value without an '=' character. Whereas assocative values are in the form \fB<identifier>=<value>\fR.
    general: |
        \fBpath=<absolute path>\fR: Path to the daemon executable file, MUST be specified.
        \fBworkdir=<absolute path>\fR: Where the daemon will be executed (chdir()'d). Default none, executed in cyberd's current working directory.
        \fBuser=<name|id>\fR: User name/id of the daemon.
        \fBgroup=<name|id>\fR: Group name/id of the daemon.
        \fBumask=<octal numeric value>\fR: umask of the daemon, default to cyberd's one (022).
        \fBsigend=<signal name| signal number>\fR: Signal used to stop the daemon.
        \fBsigreload=<signal name| signal number>\fR: Signal used to reload the daemon's configuration.
        \fBarguments=<argument list>\fR: Argument list of the binary, if not present, the first argument will be the daemon's name. This list undergoes limited shell substitution, without command and failing if any unknown environment is used.
    environment: The environment section is only composed of associative values, and will compose the daemon's environment variables. Those variables will not be used for the previous \fBarguments\fR expansion.
    start: |
        \fBload\fR: Start the daemon when cyberd is starting.
        \fBreload\fR: Start the daemon when cyberd is reloading its configuration.
        \fBany exit\fR: Start the daemon when the daemon as exited in any way.
        \fBexit\fR: Start the daemon when the daemon as exited with \fB_exit(2)\fR.
        \fBexit success\fR: Start the daemon when the daemon as exited with \fB_exit(2)\fR with exit code \fB0\fR.
        \fBexit failure\fR: Start the daemon when the daemon as exited with \fB_exit(2)\fR with an exit code not equal to \fB0\fR.
        \fBkilled\fR: Start the daemon when the daemon was killed by a signal.
        \fBdumped\fR: Start the daemon when the daemon dumped core.
    "see also":
        cyberctl: [ 1 ]
        cyberd: [ 1 ]
